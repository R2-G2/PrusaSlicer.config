# generated by PrusaSlicer 2.7.2+linux-x64-GTK3 on 2024-03-30 at 19:51:55 UTC
autoemit_temperature_commands = 1
bed_custom_model = 
bed_custom_texture = 
bed_shape = 0x0,250x0,250x210,0x210
before_layer_gcode = ;LAYER:[layer_num]\n{\n    if print_settings_id =~ /^0\\.20 Faster Temp Tower.*/ then\n        local level = int(layer_num / FASTER_TEMP_TOWER_LEVELS_PER_LAYER);\n        \n        "M104 S" + FASTER_TEMP_TOWER_LEVELS[level] + " ; Faster Temp Tower @" + filament_type[0] + " on level " + level;\n    endif\n}\n\n;BEFORE_LAYER_CHANGE\nG92 E0.0\n;[layer_z]\nM201 X{interpolate_table(extruded_weight_total, (0,4000), (1400,2500), (10000,2500))} Y{interpolate_table(extruded_weight_total, (0,4000), (1400,2500), (10000,2500))}\n{if ! spiral_vase}M74 W[extruded_weight_total]{endif}\n
between_objects_gcode = 
binary_gcode = 1
color_change_gcode = M600\nG1 E0.3 F1500 ; prime after color change
cooling_tube_length = 5
cooling_tube_retraction = 91.5
default_filament_profile = "Prusament PLA @PGIS"
default_print_profile = 0.20mm SPEED @MK4IS 0.4
deretract_speed = 0
end_gcode = {if layer_z < max_print_height}G1 Z{z_offset+min(layer_z+1, max_print_height)} F720 ; Move print head up{endif}\nM104 S0 ; turn off temperature\nM140 S0 ; turn off heatbed\nM107 ; turn off fan\nG1 X241 Y170 F3600 ; park\n{if layer_z < max_print_height}G1 Z{z_offset+min(layer_z+23, max_print_height)} F300 ; Move print head up{endif}\nG4 ; wait\nM572 S0 ; reset PA\nM593 X T2 F0 ; disable IS\nM593 Y T2 F0 ; disable IS\nM84 X Y E ; disable motors\n; max_layer_z = [max_layer_z]\n\n;;; FASTER_TEMP_TOWER_LEVEL0_{FASTER_TEMP_TOWER_LEVELS[0]}
extra_loading_move = -2
extruder_colour = ""
extruder_offset = 0x0
gcode_flavor = marlin2
high_current_on_filament_swap = 0
host_type = prusalink
inherits = Original Prusa MK4 Input Shaper 0.4 nozzle
layer_gcode = ;AFTER_LAYER_CHANGE\n;[layer_z]
machine_limits_usage = emit_to_gcode
machine_max_acceleration_e = 2500,5000
machine_max_acceleration_extruding = 4000,2000
machine_max_acceleration_retracting = 1200,2000
machine_max_acceleration_travel = 4000,1250
machine_max_acceleration_x = 4000,2000
machine_max_acceleration_y = 4000,2000
machine_max_acceleration_z = 200,2000
machine_max_feedrate_e = 100,120
machine_max_feedrate_x = 300,100
machine_max_feedrate_y = 300,100
machine_max_feedrate_z = 40,12
machine_max_jerk_e = 10,1.5
machine_max_jerk_x = 8,8
machine_max_jerk_y = 8,8
machine_max_jerk_z = 2,0.4
machine_min_extruding_rate = 0,0
machine_min_travel_rate = 0,0
max_layer_height = 0.3
max_print_height = 220
min_layer_height = 0.07
nozzle_diameter = 0.4
parking_pos_retraction = 92
pause_print_gcode = M601
print_host = 
printer_model = MK4IS
printer_notes = Don't remove the following keywords! These keywords are used in the "compatible printer" condition of the print and filament profiles to link the particular print and filament profiles to this printer profile.\nPRINTER_MODEL_MK4IS\nPG\n\nPRINTER_VENDOR_PRUSA3D\nPRINTER_TECHNOLOGY_FFF\n\n# @todo: specs\n\n### START_POSTPROCESSING\nmk4_gcode_file="${pp_gcode_file}.mk4";\nfaster_temp_tower_level0=$(grep -Po "(?<=^;;; FASTER_TEMP_TOWER_LEVEL0_)[0-9]+" "${pp_gcode_file}";);\nis_faster_temp_tower=$([ -n "$(printf "%%s" "${SLIC3R_PRINT_SETTINGS_ID}" | grep "^0\\.20 Faster Temp Tower.*";)" ] && printf true || printf false);\n\n{\n    while read -r gcode; do\n        if [ true = ${is_faster_temp_tower} ] ; then\n            case "${gcode}" in\n                "M10"[49]" S${SLIC3R_FIRST_LAYER_TEMPERATURE}")\n                    printf "%%s\\n" "${gcode}" | sed "s/S${SLIC3R_FIRST_LAYER_TEMPERATURE}/S${faster_temp_tower_level0}/";\n                    ;;\n                "M104 S${SLIC3R_TEMPERATURE} ; set temperature")\n                    ;;\n                *)\n                    printf "%%s\\n" "${gcode}";\n                    ;;\n            esac\n        else\n            printf "%%s\\n" "${gcode}";\n        fi\n    done < "${pp_gcode_file}";\n} > "${mk4_gcode_file}";\n\nmv "${mk4_gcode_file}" "${pp_gcode_file}";\n### END_POSTPROCESSING
printer_settings_id = Original Prusa MK4 Input Shaper 0.4 nozzle @OPMK4 IS 0.4
printer_technology = FFF
printer_variant = 0.4
printer_vendor = 
printhost_apikey = 
printhost_cafile = 
remaining_times = 1
retract_before_travel = 1.5
retract_before_wipe = 80%
retract_layer_change = 1
retract_length = 0.7
retract_length_toolchange = 4
retract_lift = 0.2
retract_lift_above = 0
retract_lift_below = 219
retract_restart_extra = 0
retract_restart_extra_toolchange = 0
retract_speed = 35
silent_mode = 0
single_extruder_multi_material = 0
start_gcode = {\n    global FASTER_TEMP_TOWER_LEVELS = (215, 215, 215, 215, 215, 215, 215, 215);\n    global FASTER_TEMP_TOWER_LEVELS_PER_LAYER = 35;\n}\n\nM17 ; enable steppers\nM862.1 P[nozzle_diameter] ; nozzle diameter check\nM862.3 P "MK4" ; printer model check\nM862.5 P2 ; g-code level check\nM862.6 P"Input shaper" ; FW feature check\nM115 U5.1.2+13478\n\nM555 X{(min(print_bed_max[0], first_layer_print_min[0] + 32) - 32)} Y{(max(0, first_layer_print_min[1]) - 4)} W{((min(print_bed_max[0], max(first_layer_print_min[0] + 32, first_layer_print_max[0])))) - ((min(print_bed_max[0], first_layer_print_min[0] + 32) - 32))} H{((first_layer_print_max[1])) - ((max(0, first_layer_print_min[1]) - 4))}\n\nG90 ; use absolute coordinates\nM83 ; extruder relative mode\n\nM140 S[first_layer_bed_temperature] ; set bed temp\nM104 T0 S{((filament_notes[0]=~/.*HT_MBL10.*/) ? (first_layer_temperature[0] - 10) : (filament_type[0] == "PC" or filament_type[0] == "PA") ? (first_layer_temperature[0] - 25) : (filament_type[0] == "FLEX") ? 210 : (filament_type[0]=~/.*PET.*/) ? 175 : 170)} ; set extruder temp for bed leveling\nM109 T0 R{((filament_notes[0]=~/.*HT_MBL10.*/) ? (first_layer_temperature[0] - 10) : (filament_type[0] == "PC" or filament_type[0] == "PA") ? (first_layer_temperature[0] - 25) : (filament_type[0] == "FLEX") ? 210 : (filament_type[0]=~/.*PET.*/) ? 175 : 170)} ; wait for temp\n\nM84 E ; turn off E motor\n\nG28 ; home all without mesh bed level\n\nG1 X{10 + 32} Y-4 Z5 F4800\n\nM302 S160 ; lower cold extrusion limit to 160C\n\n{if filament_type[initial_tool]=="FLEX"}\nG1 E-4 F2400 ; retraction\n{else}\nG1 E-2 F2400 ; retraction\n{endif}\n\nM84 E ; turn off E motor\n\nG29 P9 X10 Y-4 W32 H4\n\n{if first_layer_bed_temperature[initial_tool]<=60}M106 S100{endif}\n\nG0 Z40 F10000\n\nM190 S[first_layer_bed_temperature] ; wait for bed temp\n\nM107\n\n;\n; MBL\n;\nM84 E ; turn off E motor\nG29 P1 ; invalidate mbl & probe print area\nG29 P1 X0 Y0 W50 H20 C ; probe near purge place\nG29 P3.2 ; interpolate mbl probes\nG29 P3.13 ; extrapolate mbl outside probe area\nG29 A ; activate mbl\n\n; prepare for purge\nM104 S{first_layer_temperature[0]}\nG0 X0 Y-4 Z15 F4800 ; move away and ready for the purge\nM109 S{first_layer_temperature[0]}\n\nG92 E0\nM569 S0 E ; set spreadcycle mode for extruder\n\n;\n; Extrude purge line\n;\nG92 E0 ; reset extruder position\nG1 E{(filament_type[0] == "FLEX" ? 4 : 2)} F2400 ; deretraction after the initial one before nozzle cleaning\nG0 E7 X15 Z0.2 F500 ; purge\nG0 X25 E4 F500 ; purge\nG0 X35 E4 F650 ; purge\nG0 X45 E4 F800 ; purge\nG0 X{45 + 3} Z{0.05} F{8000} ; wipe, move close to the bed\nG0 X{45 + 3 * 2} Z0.2 F{8000} ; wipe, move quickly away from the bed\n\nG92 E0\nM221 S100 ; set flow to 100%
template_custom_gcode = 
thumbnails = 16x16/QOI, 313x173/QOI, 440x240/QOI, 480x240/QOI, 640x480/PNG
thumbnails_format = PNG
toolchange_gcode = 
travel_lift_before_obstacle = 0
travel_max_lift = 1.5
travel_ramping_lift = 1
travel_slope = 1
use_firmware_retraction = 0
use_relative_e_distances = 1
use_volumetric_e = 0
variable_layer_height = 1
wipe = 0
z_offset = 0
